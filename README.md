# Text Analyzer — микросервисная архитектура для анализа текста

Проект реализует микросервисный подход к анализу текстовых файлов:  
- подсчёт статистики  
- обнаружение плагиата  
- генерация облака слов  

Система построена на трех независимых сервисах с четким разделением ответственности: API Gateway, File Storing Service и File Analysis Service.  

---

## Возможности

- Подсчёт статистики — количество абзацев, слов и символов  
- Проверка на плагиат — поиск 100% совпадений среди загруженных файлов  
- Облако слов — визуализация текста через внешний API  
- Swagger-документация — автоматическая генерация и доступ через браузер  
- Тестирование — покрытие тестами более 65% с удобным HTML-отчётом  

---

## Архитектура

- API Gateway — маршрутизация запросов  
- File Storing Service — хранение и доступ к файлам  
- File Analysis Service — анализ и сохранение результатов  

Взаимодействие между сервисами осуществляется через gRPC, API описаны в Swagger.  

---

## Установка и запуск

### Требования
- Docker и Docker Compose  
- Go 1.20+  
- [Swag](https://github.com/swaggo/swag) для генерации Swagger-документации  

### Клонирование репозитория
```bash
git clone <repository-url>
```

### Генерация документации
```bash
make swagger
```

### Запуск сервисов
```bash
docker-compose up -d
```

По умолчанию будут подняты:  
- PostgreSQL → :5432  
- File Storing Service → :50051  
- File Analysis Service → :50052  
- API Gateway → :8080  

Swagger UI доступен по адресу:  
http://localhost:8080/swagger/index.html  

---

## Тестирование

Запуск тестов и генерация отчёта:  
```bash
make test-coverage
```

Результаты:  
- coverage/coverage.out — отчёт в текстовом виде  
- coverage/coverage.html — интерактивный отчёт (открыть в браузере)  

---

## Примечания
- В отчёте покрытия не учитываются автогенерируемые и mock-файлы  
- При недоступности сервисов API Gateway использует retry и таймауты  
